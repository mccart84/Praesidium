@model Praesidium.Models.Navigation.NavigationModel

<script>
    $(function () {
        $(".dropdown").hover(
                function () {
                    $('.dropdown-menu', this).stop(true, true).fadeIn("fast");
                    $(this).toggleClass('open');
                },
                function () {
                    $('.dropdown-menu', this).stop(true, true).fadeOut("fast");
                    $(this).toggleClass('open');
                });
    });
</script>

@if (Model != null)
{
    if (Model.NavItems != null)
    {
        foreach (var navItem in Model.NavItems)
        {
            if (navItem.SubPages.Count > 0)
            {
            <li class="dropdown">
                @*@Html.ActionLink("" + navItem.DisplayText + "<b class='caret'></b>" , navItem.Action, navItem.Controller, new Dictionary<string, object> { { "class", "dropdown-toggle" }, { "data-toggle", "dropdown" } })*@
                <a class="dropdown_btn" href="@Url.Action(navItem.Action, navItem.Controller)">
                    @navItem.DisplayText
                    <span class="caret" aria-hidden="true"></span>                    
                </a>
                <ul class="dropdown-menu">
                    @foreach (var subNav in navItem.SubPages)
                    {
                        <li style="font-weight: bold !important;">@Html.ActionLink(subNav.DisplayText, subNav.Action, subNav.Controller)</li>
                    }
                </ul>                
            </li>
            }
            else
            {
            <li>
                @Html.ActionLink(navItem.DisplayText, navItem.Action, navItem.Controller)                
            </li>            
            }
        }
    }
    else if (Model.AdminNavItems != null)
    {
        foreach (var adminNavItem in Model.AdminNavItems)
        {
            <li>
                @Html.ActionLink(adminNavItem.DisplayText, adminNavItem.Action, adminNavItem.Controller, new { area = "" }, new { @class = "header" })
            </li>
        }
    }
}